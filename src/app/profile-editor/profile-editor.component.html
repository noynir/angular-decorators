<!--<form [formGroup]="profileForm" (ngSubmit)="onSubmit()">-->
  <!--<label>-->
    <!--First Name:-->
    <!--<input type="text" formControlName="firstName" required>-->
  <!--</label>-->

  <!--<label>-->
    <!--Last Name:-->
    <!--<input type="text" formControlName="lastName">-->
  <!--</label>-->

  <!--<div formGroupName="address">-->
    <!--<h3>Address</h3>-->

    <!--<label>-->
      <!--Street:-->
      <!--<input type="text" formControlName="street">-->
    <!--</label>-->

    <!--<label>-->
      <!--City:-->
      <!--<input type="text" formControlName="city">-->
    <!--</label>-->

    <!--<label>-->
      <!--State:-->
      <!--<input type="text" formControlName="state">-->
    <!--</label>-->

    <!--<label>-->
      <!--Zip Code:-->
      <!--<input type="text" formControlName="zip">-->
    <!--</label>-->
  <!--</div>-->

  <!--<div formArrayName="aliases">-->
    <!--<h3>Aliases</h3> <button (click)="addAlias()">Add Alias</button>-->

    <!--<div *ngFor="let address of aliases.controls; let i=index">-->
      <!--&lt;!&ndash; The repeated alias template &ndash;&gt;-->
      <!--<label>-->
        <!--Alias:-->
        <!--<input type="text" [formControlName]="i">-->
      <!--</label>-->
    <!--</div>-->
  <!--</div>-->

  <!--<button type="submit" [disabled]="!profileForm.valid">Submit</button>-->
<!--</form>-->

<form [formGroup]="profileForm" (ngSubmit)="onSubmit()" >
  <ng-container *ngFor="let field of fields;" >

    <ng-container [ngSwitch]="field.type" >

      <label *ngSwitchCase="'select'" >
        {{field.label}}:
        <select [formControlName]="field.name"   >
          <option *ngFor="let option of field.options" [value]="option.value" >{{option.text || option.value}}</option>
        </select>
      </label>
      <label *ngSwitchDefault >
        {{field.label}}:
        <input [type]="field.type" [formControlName]="field.name"   />
      </label>

    </ng-container>

  </ng-container>

  <div>
    <button type="submit" >Submit</button>
  </div>

</form>

<hr>


<p>
  Form Value: {{ profileForm.value | json }}
</p>


<p>
  Form Status: {{ profileForm.status }}
</p>

<p>
  <button (click)="updateProfile()">Update Profile</button>
</p>

